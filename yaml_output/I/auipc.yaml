# yaml-language-server: $schema=../../../schemas/inst_schema.json

auipc:
  long_name: Add Upper Immediate to PC
  description: |
      "Adds a 20-bit immediate value (shifted left by 12 bits) to the current\
    \ PC (Program Counter), storing the full 32-bit result in the destination register.\
    \ This instruction is particularly useful for PC-relative addressing, especially\
    \ when used in conjunction with JALR for implementing large PC-relative offsets.\
    \ It allows for efficient encoding of 32-bit PC-relative addresses, which is crucial\
    \ for position-independent code. The immediate value is sign-extended and shifted\
    \ left by 12 bits before being added to the PC, allowing for a range of \xB12\
    \ GiB around the current PC."
  definedBy: [I]
  assembly: xd, imm
  encoding:
    match: -------------------------0010111
    variables:
    - name: imm20
      location: 31-12
      start-bit: 31
      end_bit: 12
    - name: rd
      location: 11-7
      start-bit: 11
      end_bit: 7
  access:
    s: ''
    u: ''
    vs: ''
    vu: ''
  pseudoinstructions:
  - when: rd==00000
    to: lpad imm
  operation(): |
      
